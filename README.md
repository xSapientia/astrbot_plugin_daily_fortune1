# astrbot_plugin_daily_fortune1

全新重构的今日人品测试插件，支持高度自定义和多种随机算法。

## ✨ 核心特性

- 🎯 **变量系统** - 支持 {nickname}、{card}、{title}、{jrrp} 等丰富变量
- 📝 **模板系统** - 所有输出都可通过模板自定义
- 🎲 **多种随机算法** - 10种内置算法，满足不同需求
- 🤖 **灵活的LLM配置** - 支持使用AstrBot配置或自定义API
- 👤 **人格系统** - 占卜师可以有不同的人格
- 💾 **智能缓存** - 支持配置缓存天数
- 📊 **全局数据** - 私聊群聊共享人品值

## 🎮 使用指令

| 指令 | 别名 | 说明 |
|------|------|------|
| `/jrrp` | `-jrrp` | 测试/查询今日人品 |
| `/jrrprank` | - | 查看群内人品排行榜 |
| `/jrrphistory` | `/jrrphi` | 查看人品历史（支持@查询他人） |
| `/jrrpdelete` | `/jrrpdel` | 删除个人数据（需--confirm） |
| `/jrrpreset` | `/jrrpre` | 删除所有数据（管理员，需--confirm） |

## 🔧 配置说明

所有配置项都有默认值，可以在AstrBot管理面板中修改。

### 基础配置
- `enable_plugin` - 插件开关
- `detecting_message` - 检测中的提示消息
- `result_cache_days` - 结果缓存天数
- `show_cached_result` - 查询时是否显示缓存

### 模板配置
所有模板都支持变量替换，让你完全自定义输出格式。

## 🎲 随机算法说明

插件提供10种内置算法，每种算法都有独特的分布特性：

1. **uniform** - 均匀分布（默认）
2. **normal** - 正态分布
3. **lucky** - 幸运算法
4. **unlucky** - 厄运算法
5. **polarized** - 极化算法
6. **ladder** - 阶梯算法
7. **golden** - 黄金分割
8. **sin_wave** - 正弦波算法
9. **weighted** - 加权算法
10. **custom** - 自定义算法

## 📝 更新日志

### v0.0.3 (2025-07-23)
- ✅ 彻底修复配置保存问题
- ✅ 所有默认值移至schema
- ✅ 优化配置读取逻辑

### v0.0.2 (2025-07-23)
- ✅ 添加10种随机算法
- ✅ 新增排行榜项目模板
- ✅ 修复缩进错误

### v0.0.1 (2025-07-23)
- ✅ 全新重构，从零开始
- ✅ 实现变量系统和模板系统
- ✅ 支持灵活的LLM配置

---

作者：xSapientia
