{
  "enable_plugin": {
    "description": "插件总开关",
    "type": "bool",
    "default": true
  },
  "detecting_message": {
    "description": "检测中提示消息",
    "type": "string",
    "default": "神秘的能量汇聚，[{title}]{card}({nickname})，你的命运即将显现，正在祈祷中..."
  },
  "process_prompt": {
    "description": "过程模拟提示词",
    "type": "text",
    "default": "使用{title}{card}/{nickname}或简称称呼user_id，模拟你使用水晶球缓慢复现今日结果的过程，50字以内"
    "items": {
       "process_template": {
         "description": "过程模拟模板（优先级高于prompt）",
         "type": "text",
         "default": ""
       }
    }
  },

  "advice_prompt": {
    "description": "评语提示词",
    "type": "text",
    "default": "使用{title}{card}/{nickname}或简称称呼user_id，对user_id的今日人品值给出你的评语和建议，50字以内"
    "items": {
       "advice_template": {
         "description": "评语模板（优先级高于prompt）",
         "type": "text",
         "default": ""
       }
    }
  },
  "result_cache_days": {
    "description": "结果缓存天数",
    "type": "int",
    "default": 7
  },
  "show_cached_result": {
    "description": "查询时是否显示缓存的结果文本",
    "type": "bool",
    "default": true
  },
  "random_template": {
    "description": "随机结果模板",
    "type": "text",
    "default": "🔮 {process}\n💎 人品值：{jrrp}\n✨ 运势：{fortune}\n💬 建议：{advice}"
  },
  "query_template": {
    "description": "查询结果模板",
    "type": "text",
    "default": "📌 今日人品\n[{title}]{card}({nickname})，今天已经查询过了哦~\n今日人品值: {jrrp}\n运势: {fortune} {femoji}"
  },
  "rank_template": {
    "description": "排行榜模板",
    "type": "text",
    "default": "📊【今日人品排行榜】{date}\n━━━━━━━━━━━━━━━\n{ranks}"
  },
  "rank_display_count": {
    "description": "排行榜显示数量",
    "type": "int",
    "default": 10,
    "hint": "-1表示显示所有"
  },
  "history_template": {
    "description": "历史记录模板",
    "type": "text",
    "default": "📚 {name} 的人品历史记录\n{items}\n\n📊 统计信息:\n平均人品值: {avgjrrp}\n最高人品值: {maxjrrp}\n最低人品值: {minjrrp}"
  },
  "history_days": {
    "description": "历史记录天数",
    "type": "int",
    "default": 30
  },
  "llm_provider_id": {
    "description": "LLM提供商ID",
    "type": "string",
    "default": "",
    "hint": "留空使用默认，或填写AstrBot中配置的provider_id"
  },
  "llm_api_key": {
    "description": "自定义LLM API Key",
    "type": "string",
    "default": "",
    "hint": "当provider_id为空时使用"
  },
  "llm_api_url": {
    "description": "自定义LLM API URL",
    "type": "string",
    "default": "",
    "hint": "支持到/v1或/v1/chat/completions"
  },
  "llm_model": {
    "description": "自定义LLM模型",
    "type": "string",
    "default": "",
    "hint": "如gpt-3.5-turbo"
  },
  "persona_name": {
    "description": "占卜师人格名称",
    "type": "string",
    "default": "",
    "hint": "留空使用默认人格"
  },
  "fortune_algorithm": {
    "description": "人品值算法",
    "type": "string",
    "default": "normal",
    "options": [
      "uniform",
      "normal",
      "lucky_seven",
      "time_based",
      "fibonacci",
      "golden_ratio",
      "wave",
      "constellation",
      "karma",
      "custom"
    ],
    "hint": "选择不同的算法会有不同的运势分布特征"
  },

  "fortune_algorithm_detail": {
    "description": "算法说明",
    "type": "text",
    "default": "uniform: 均匀分布，完全随机\nnormal: 正态分布，大部分人在中等水平\nlucky_seven: 幸运七，7的倍数更幸运\ntime_based: 基于时间，同一时间查询结果相近\nfibonacci: 斐波那契，某些特殊数字概率更高\ngolden_ratio: 黄金分割，61.8和38.2附近概率高\nwave: 正弦波，运势周期性变化\nconstellation: 星座运势，基于出生月份\nkarma: 因果轮回，运势会反转\ncustom: 自定义权重分布",
    "invisible": true
  },

  // Normal算法参数
  "fortune_normal_mean": {
    "description": "正态分布均值",
    "type": "int",
    "default": 60,
    "hint": "仅在算法为normal时生效"
  },

  "fortune_normal_std": {
    "description": "正态分布标准差",
    "type": "int",
    "default": 20,
    "hint": "仅在算法为normal时生效"
  },

  "fortune_special_chance": {
    "description": "特殊值概率(%)",
    "type": "float",
    "default": 1.0,
    "hint": "获得0或100的概率"
  },

  // Custom算法参数
  "fortune_custom_weights": {
    "description": "自定义权重分布",
    "type": "list",
    "default": [],
    "hint": "101个数字，对应0-100每个值的权重",
    "editor_mode": true,
    "editor_language": "json",
    "invisible": true
  },

}
